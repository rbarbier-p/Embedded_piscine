#include "SPI_lib.h"
#include <util/delay.h>

void main(void)
{
	SPI_master_init();

  while (1) {
    SPI_APA102_start();
    SPI_APA102_frame(0x1, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_stop(); 

    _delay_ms(250);

    SPI_APA102_start();
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_stop(); 

    _delay_ms(83);

    SPI_APA102_start();
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x1, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_stop(); 

    _delay_ms(250);

    SPI_APA102_start();
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_stop(); 

    _delay_ms(83);

    SPI_APA102_start();
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x1, 0x0, 0x0, 0xFF);
    SPI_APA102_stop(); 

    _delay_ms(250);

    SPI_APA102_start();
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_frame(0x0, 0x0, 0x0, 0xFF);
    SPI_APA102_stop(); 

    _delay_ms(84);
  }
}
